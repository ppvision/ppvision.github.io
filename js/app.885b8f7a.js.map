{"version":3,"file":"js/app.885b8f7a.js","mappings":"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","sources":["webpack://serialapp/./src/Modules/google_serial.js","webpack://serialapp/./src/App.vue","webpack://serialapp/./src/components/XTerm.vue","webpack://serialapp/./src/components/ThemeConfig.vue","webpack://serialapp/src/components/ThemeConfig.vue","webpack://serialapp/./src/components/ThemeConfig.vue?6cf2","webpack://serialapp/./src/components/ThemeConfig.vue?fb9d","webpack://serialapp/src/components/XTerm.vue","webpack://serialapp/./src/components/XTerm.vue?f3bf","webpack://serialapp/./src/components/XTerm.vue?873a","webpack://serialapp/./src/Modules/web_serial.js","webpack://serialapp/./src/Modules/ansi-styles.js","webpack://serialapp/./src/components/serial.js","webpack://serialapp/src/App.vue","webpack://serialapp/./src/App.vue?51dd","webpack://serialapp/./src/App.vue?0e40","webpack://serialapp/./src/main.js","webpack://serialapp/webpack/bootstrap","webpack://serialapp/webpack/runtime/amd options","webpack://serialapp/webpack/runtime/chunk loaded","webpack://serialapp/webpack/runtime/compat get default export","webpack://serialapp/webpack/runtime/define property getters","webpack://serialapp/webpack/runtime/global","webpack://serialapp/webpack/runtime/hasOwnProperty shorthand","webpack://serialapp/webpack/runtime/make namespace object","webpack://serialapp/webpack/runtime/node module decorator","webpack://serialapp/webpack/runtime/jsonp chunk loading","webpack://serialapp/webpack/startup"],"sourcesContent":["8/*\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in\n * compliance with the License. You may obtain a copy of\n * the License at\n *\n *    https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in\n * writing, software distributed under the License is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES\n * OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing\n * permissions and limitations under the License.\n */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.serial = exports.SerialPort = exports.SerialPolyfillProtocol = void 0;\nvar SerialPolyfillProtocol;\n(function (SerialPolyfillProtocol) {\n    SerialPolyfillProtocol[SerialPolyfillProtocol[\"UsbCdcAcm\"] = 0] = \"UsbCdcAcm\";\n})(SerialPolyfillProtocol = exports.SerialPolyfillProtocol || (exports.SerialPolyfillProtocol = {}));\nconst kSetLineCoding = 0x20;\nconst kSetControlLineState = 0x22;\nconst kSendBreak = 0x23;\nconst kDefaultBufferSize = 255;\nconst kDefaultDataBits = 8;\nconst kDefaultParity = 'none';\nconst kDefaultStopBits = 1;\nconst kAcceptableDataBits = [16, 8, 7, 6, 5];\nconst kAcceptableStopBits = [1, 2];\nconst kAcceptableParity = ['none', 'even', 'odd'];\nconst kParityIndexMapping = ['none', 'odd', 'even'];\nconst kStopBitsIndexMapping = [1, 1.5, 2];\nconst kDefaultPolyfillOptions = {\n    protocol: SerialPolyfillProtocol.UsbCdcAcm,\n    usbControlInterfaceClass: 2,//2\n    usbTransferInterfaceClass: 10,//10\n};\n/**\n * Utility function to get the interface implementing a desired class.\n * @param {USBDevice} device The USB device.\n * @param {number} classCode The desired interface class.\n * @return {USBInterface} The first interface found that implements the desired\n * class.\n * @throws TypeError if no interface is found.\n */\nfunction findInterface(device, classCode) {\n    const configuration = device.configurations[0];\n    if(device.manufacturerName == \"Silicon Labs\" || \n        (device.vendorId == 4292 && device.productId== 60000)){\n        device.is_cp210x = true;\n\n        return configuration.interfaces[0]\n    }\n    if(device.manufacturerName==\"Raspberry Pi\" && device.productName==\"Pico\"){\n        device.is_pico = true;\n    }\n\n    if(device.vendorId == 6790)\n\n    configuration.interfaces.map((iface,i)=>{\n        console.log(`Lookup Class:${classCode} [${i}]iface::[${iface.alternates[0].interfaceClass}]`)\n    })\n\n    for (const iface of configuration.interfaces) {\n        const alternate = iface.alternates[0];\n        if (alternate.interfaceClass === classCode) {\n            return iface;\n        }\n    }\n    throw new TypeError(`Unable to find interface with class ${classCode}.`);\n}\n/**\n * Utility function to get an endpoint with a particular direction.\n * @param {USBInterface} iface The interface to search.\n * @param {USBDirection} direction The desired transfer direction.\n * @return {USBEndpoint} The first endpoint with the desired transfer direction.\n * @throws TypeError if no endpoint is found.\n */\nfunction findEndpoint(iface, direction) {\n    const alternate = iface.alternates[0];\n    for (const endpoint of alternate.endpoints) {\n        if (endpoint.direction == direction) {\n            return endpoint;\n        }\n    }\n    throw new TypeError(`Interface ${iface.interfaceNumber} does not have an ` +\n        `${direction} endpoint.`);\n}\n/**\n * Implementation of the underlying source API[1] which reads data from a USB\n * endpoint. This can be used to construct a ReadableStream.\n *\n * [1]: https://streams.spec.whatwg.org/#underlying-source-api\n */\nclass UsbEndpointUnderlyingSource {\n    /**\n     * Constructs a new UnderlyingSource that will pull data from the specified\n     * endpoint on the given USB device.\n     *\n     * @param {USBDevice} device\n     * @param {USBEndpoint} endpoint\n     * @param {function} onError function to be called on error\n     */\n    constructor(device, endpoint, onError) {\n        this.type = 'bytes';\n        this.device_ = device;\n        this.endpoint_ = endpoint;\n        this.onError_ = onError;\n    }\n    /**\n     * Reads a chunk of data from the device.\n     *\n     * @param {ReadableByteStreamController} controller\n     */\n    pull(controller) {\n        (async () => {\n            var _a;\n            let chunkSize;\n            if (controller.desiredSize) {\n                const d = controller.desiredSize / this.endpoint_.packetSize;\n                chunkSize = Math.ceil(d) * this.endpoint_.packetSize;\n            }\n            else {\n                chunkSize = this.endpoint_.packetSize;\n            }\n            try {\n                const result = await this.device_.transferIn(this.endpoint_.endpointNumber, chunkSize);\n                if (result.status != 'ok') {\n                    controller.error(`USB error: ${result.status}`);\n                    this.onError_();\n                }\n                if ((_a = result.data) === null || _a === void 0 ? void 0 : _a.buffer) {\n                    const chunk = new Uint8Array(result.data.buffer, result.data.byteOffset, result.data.byteLength);\n                    controller.enqueue(chunk);\n                }\n            }\n            catch (error) {\n                controller.error(error.toString());\n                this.onError_();\n            }\n        })();\n    }\n}\n/**\n * Implementation of the underlying sink API[2] which writes data to a USB\n * endpoint. This can be used to construct a WritableStream.\n *\n * [2]: https://streams.spec.whatwg.org/#underlying-sink-api\n */\nclass UsbEndpointUnderlyingSink {\n    /**\n     * Constructs a new UnderlyingSink that will write data to the specified\n     * endpoint on the given USB device.\n     *\n     * @param {USBDevice} device\n     * @param {USBEndpoint} endpoint\n     * @param {function} onError function to be called on error\n     */\n    constructor(device, endpoint, onError) {\n        this.device_ = device;\n        this.endpoint_ = endpoint;\n        this.onError_ = onError;\n    }\n    /**\n     * Writes a chunk to the device.\n     *\n     * @param {Uint8Array} chunk\n     * @param {WritableStreamDefaultController} controller\n     */\n    async write(chunk, controller) {\n        try {\n            const result = await this.device_.transferOut(this.endpoint_.endpointNumber, chunk);\n            if (result.status != 'ok') {\n                controller.error(result.status);\n                this.onError_();\n            }\n        }\n        catch (error) {\n            controller.error(error.toString());\n            this.onError_();\n        }\n    }\n}\n/** a class used to control serial devices over WebUSB */\nclass SerialPort {\n    /**\n     * constructor taking a WebUSB device that creates a SerialPort instance.\n     * @param {USBDevice} device A device acquired from the WebUSB API\n     * @param {SerialPolyfillOptions} polyfillOptions Optional options to\n     * configure the polyfill.\n     */\n    constructor(device, polyfillOptions) {\n        this.polyfillOptions_ = Object.assign(Object.assign({}, kDefaultPolyfillOptions), polyfillOptions);\n        this.outputSignals_ = {\n            dataTerminalReady: false,\n            requestToSend: false,\n            break: false,\n        };\n        this.device_            = device;\n\n        let tmep_Interface = null;//findInterface(this.device_, 255);\n        if(tmep_Interface){\n            this.controlInterface_  =  this.transferInterface_ = tmep_Interface\n        }else{\n            this.controlInterface_  = findInterface(this.device_, this.polyfillOptions_.usbControlInterfaceClass);\n            this.transferInterface_ = findInterface(this.device_, this.polyfillOptions_.usbTransferInterfaceClass);\n        }\n\n        this.inEndpoint_        = findEndpoint(this.transferInterface_, 'in');\n        this.outEndpoint_       = findEndpoint(this.transferInterface_, 'out');\n    }\n    /**\n     * Getter for the readable attribute. Constructs a new ReadableStream as\n     * necessary.\n     * @return {ReadableStream} the current readable stream\n     */\n    get readable() {\n        var _a;\n        if (!this.readable_ && this.device_.opened) {\n            this.readable_ = new ReadableStream(new UsbEndpointUnderlyingSource(this.device_, this.inEndpoint_, () => {\n                this.readable_ = null;\n            }), {\n                highWaterMark: (_a = this.serialOptions_.bufferSize) !== null && _a !== void 0 ? _a : kDefaultBufferSize,\n            });\n        }\n        return this.readable_;\n    }\n    /**\n     * Getter for the writable attribute. Constructs a new WritableStream as\n     * necessary.\n     * @return {WritableStream} the current writable stream\n     */\n    get writable() {\n        var _a;\n        if (!this.writable_ && this.device_.opened) {\n            this.writable_ = new WritableStream(new UsbEndpointUnderlyingSink(this.device_, this.outEndpoint_, () => {\n                this.writable_ = null;\n            }), new ByteLengthQueuingStrategy({\n                highWaterMark: (_a = this.serialOptions_.bufferSize) !== null && _a !== void 0 ? _a : kDefaultBufferSize,\n            }));\n        }\n        return this.writable_;\n    }\n    /**\n     * a function that opens the device and claims all interfaces needed to\n     * control and communicate to and from the serial device\n     * @param {SerialOptions} options Object containing serial options\n     * @return {Promise<void>} A promise that will resolve when device is ready\n     * for communication\n     */\n    async open(options) {\n        this.serialOptions_ = options;\n        this.validateOptions();\n        try {\n            await this.device_.open();\n            if (this.device_.configuration === null) {\n                await this.device_.selectConfiguration(1);\n            }\n            await  this.device_.reset()\n            await this.device_.claimInterface(this.controlInterface_.interfaceNumber,true).catch(async err=>{\n                console.log(\"claimInterface ERROR:\",err)\n                // await  this.device_.claimInterface(this.transferInterface_.interfaceNumber)\n                // await  this.device_.claimInterface(this.transferInterface_.controlInterface_)\n            });\n            if (this.controlInterface_ !== this.transferInterface_) {\n                await this.device_.claimInterface(this.transferInterface_.interfaceNumber);\n            }\n            if(this.device_.is_cp210x){\n                await this.device_.controlTransferOut({\n                    requestType: 'vendor',\n                    recipient: 'device',\n                    request: 0x00,\n                    index: 0x00,\n                    value: 0x01\n                }).then(err=>{\n                    console.log(err)\n                }).catch(err=>{\n                    console.log(\"ERR:\",err)\n                })\n\n                await this.device_.controlTransferOut({\n                      requestType: 'vendor',\n                      recipient: 'device',\n                      request: 0x07,\n                      index: 0x00,\n                      value: 0x03 | 0x0100 | 0x0200\n                }).then(err=>{\n                    console.log(err)\n                }).catch(err=>{\n                    console.log(\"ERR:\",err)\n                })\n\n                await this.device_.controlTransferOut({\n                      requestType: 'vendor',\n                      recipient: 'device',\n                      request: 0x01,\n                      index: 0x00,\n                      value: 0x384000 / 115200\n                }).then(err=>{\n                    console.log(err)\n                }).catch(err=>{\n                    console.log(\"ERR:\",err)\n                })\n\n            }else{\n                await this.setLineCoding();\n                await this.setSignals({ dataTerminalReady: true });\n            }\n        }\n        catch (error) {\n            if (this.device_.opened) {\n                await this.device_.close();\n            }\n            throw new Error('Error setting up device: ' + error.toString());\n        }\n    }\n    /**\n     * Closes the port.\n     *\n     * @return {Promise<void>} A promise that will resolve when the port is\n     * closed.\n     */\n    async close() {\n        const promises = [];\n        if (this.readable_) {\n            promises.push(this.readable_.cancel());\n        }\n        if (this.writable_) {\n            promises.push(this.writable_.abort());\n        }\n        await Promise.all(promises);\n        this.readable_ = null;\n        this.writable_ = null;\n        if (this.device_.opened) {\n            await this.setSignals({ dataTerminalReady: false, requestToSend: false });\n            await this.device_.close();\n        }\n    }\n    /**\n     * Forgets the port.\n     *\n     * @return {Promise<void>} A promise that will resolve when the port is\n     * forgotten.\n     */\n    async forget() {\n        return this.device_.forget();\n    }\n    /**\n     * A function that returns properties of the device.\n     * @return {SerialPortInfo} Device properties.\n     */\n    getInfo() {\n        return {\n            usbVendorId: this.device_.vendorId,\n            usbProductId: this.device_.productId,\n        };\n    }\n    /**\n     * A function used to change the serial settings of the device\n     * @param {object} options the object which carries serial settings data\n     * @return {Promise<void>} A promise that will resolve when the options are\n     * set\n     */\n    reconfigure(options) {\n        this.serialOptions_ = Object.assign(Object.assign({}, this.serialOptions_), options);\n        this.validateOptions();\n        return this.setLineCoding();\n    }\n    /**\n     * Sets control signal state for the port.\n     * @param {SerialOutputSignals} signals The signals to enable or disable.\n     * @return {Promise<void>} a promise that is resolved when the signal state\n     * has been changed.\n     */\n    async setSignals(signals) {\n        this.outputSignals_ = Object.assign(Object.assign({}, this.outputSignals_), signals);\n        if (signals.dataTerminalReady !== undefined ||\n            signals.requestToSend !== undefined) {\n            // The Set_Control_Line_State command expects a bitmap containing the\n            // values of all output signals that should be enabled or disabled.\n            //\n            // Ref: USB CDC specification version 1.1 §6.2.14.\n            const value = (this.outputSignals_.dataTerminalReady ? 1 << 0 : 0) |\n                (this.outputSignals_.requestToSend ? 1 << 1 : 0);\n            await this.device_.controlTransferOut({\n                'requestType': 'class',\n                'recipient': 'interface',\n                'request': kSetControlLineState,\n                'value': value,\n                'index': this.controlInterface_.interfaceNumber,\n            });\n        }\n        if (signals.break !== undefined) {\n            // The SendBreak command expects to be given a duration for how long the\n            // break signal should be asserted. Passing 0xFFFF enables the signal\n            // until 0x0000 is send.\n            //\n            // Ref: USB CDC specification version 1.1 §6.2.15.\n            const value = this.outputSignals_.break ? 0xFFFF : 0x0000;\n            await this.device_.controlTransferOut({\n                'requestType': 'class',\n                'recipient': 'interface',\n                'request': kSendBreak,\n                'value': value,\n                'index': this.controlInterface_.interfaceNumber,\n            });\n        }\n    }\n    /**\n     * Checks the serial options for validity and throws an error if it is\n     * not valid\n     */\n    validateOptions() {\n        if (!this.isValidBaudRate(this.serialOptions_.baudRate)) {\n            throw new RangeError('invalid Baud Rate ' + this.serialOptions_.baudRate);\n        }\n        if (!this.isValidDataBits(this.serialOptions_.dataBits)) {\n            throw new RangeError('invalid dataBits ' + this.serialOptions_.dataBits);\n        }\n        if (!this.isValidStopBits(this.serialOptions_.stopBits)) {\n            throw new RangeError('invalid stopBits ' + this.serialOptions_.stopBits);\n        }\n        if (!this.isValidParity(this.serialOptions_.parity)) {\n            throw new RangeError('invalid parity ' + this.serialOptions_.parity);\n        }\n    }\n    /**\n     * Checks the baud rate for validity\n     * @param {number} baudRate the baud rate to check\n     * @return {boolean} A boolean that reflects whether the baud rate is valid\n     */\n    isValidBaudRate(baudRate) {\n        return baudRate % 1 === 0;\n    }\n    /**\n     * Checks the data bits for validity\n     * @param {number} dataBits the data bits to check\n     * @return {boolean} A boolean that reflects whether the data bits setting is\n     * valid\n     */\n    isValidDataBits(dataBits) {\n        if (typeof dataBits === 'undefined') {\n            return true;\n        }\n        return kAcceptableDataBits.includes(dataBits);\n    }\n    /**\n     * Checks the stop bits for validity\n     * @param {number} stopBits the stop bits to check\n     * @return {boolean} A boolean that reflects whether the stop bits setting is\n     * valid\n     */\n    isValidStopBits(stopBits) {\n        if (typeof stopBits === 'undefined') {\n            return true;\n        }\n        return kAcceptableStopBits.includes(stopBits);\n    }\n    /**\n     * Checks the parity for validity\n     * @param {string} parity the parity to check\n     * @return {boolean} A boolean that reflects whether the parity is valid\n     */\n    isValidParity(parity) {\n        if (typeof parity === 'undefined') {\n            return true;\n        }\n        return kAcceptableParity.includes(parity);\n    }\n    /**\n     * sends the options alog the control interface to set them on the device\n     * @return {Promise} a promise that will resolve when the options are set\n     */\n    async setLineCoding() {\n        var _a, _b, _c;\n        // Ref: USB CDC specification version 1.1 §6.2.12.\n        const buffer = new ArrayBuffer(7);\n        const view = new DataView(buffer);\n        view.setUint32(0, this.serialOptions_.baudRate, true);\n        view.setUint8(4, kStopBitsIndexMapping.indexOf((_a = this.serialOptions_.stopBits) !== null && _a !== void 0 ? _a : kDefaultStopBits));\n        view.setUint8(5, kParityIndexMapping.indexOf((_b = this.serialOptions_.parity) !== null && _b !== void 0 ? _b : kDefaultParity));\n        view.setUint8(6, (_c = this.serialOptions_.dataBits) !== null && _c !== void 0 ? _c : kDefaultDataBits);\n        const result = await this.device_.controlTransferOut({\n            'requestType': 'class',\n            'recipient': 'interface',\n            'request': kSetLineCoding,\n            'value': 0x00,\n            'index': this.controlInterface_.interfaceNumber,\n        }, buffer);\n        if (result.status != 'ok') {\n            throw new DOMException('NetworkError', 'Failed to set line coding.');\n        }\n    }\n}\nexports.SerialPort = SerialPort;\n/** implementation of the global navigator.serial object */\nclass Serial {\n    /**\n     * Requests permission to access a new port.\n     *\n     * @param {SerialPortRequestOptions} options\n     * @param {SerialPolyfillOptions} polyfillOptions\n     * @return {Promise<SerialPort>}\n     */\n    async requestPort(options, polyfillOptions) {\n        polyfillOptions = Object.assign(Object.assign({}, kDefaultPolyfillOptions), polyfillOptions);\n        const usbFilters = [];\n        if (options && options.filters) {\n            for (const filter of options.filters) {\n                const usbFilter = {\n                    classCode: polyfillOptions.usbControlInterfaceClass,\n                };\n                if (filter.usbVendorId !== undefined) {\n                    usbFilter.vendorId = filter.usbVendorId;\n                }\n                if (filter.usbProductId !== undefined) {\n                    usbFilter.productId = filter.usbProductId;\n                }\n                usbFilters.push(usbFilter);\n            }\n        }\n        if (usbFilters.length === 0) {\n            usbFilters.push({\n                classCode: polyfillOptions.usbControlInterfaceClass,\n            });\n        }\n        const device = await navigator.usb.requestDevice({ 'filters': [] });\n        const port = new SerialPort(device, polyfillOptions);\n        return port;\n    }\n    /**\n     * Get the set of currently available ports.\n     *\n     * @param {SerialPolyfillOptions} polyfillOptions Polyfill configuration that\n     * should be applied to these ports.\n     * @return {Promise<SerialPort[]>} a promise that is resolved with a list of\n     * ports.\n     */\n    async getPorts(polyfillOptions) {\n        polyfillOptions = Object.assign(Object.assign({}, kDefaultPolyfillOptions), polyfillOptions);\n        const devices = await navigator.usb.getDevices();\n        const ports = [];\n        devices.forEach((device) => {\n            try {\n                const port = new SerialPort(device, polyfillOptions);\n                ports.push(port);\n            }\n            catch (e) {\n                // Skip unrecognized port.\n            }\n        });\n        return ports;\n    }\n}\n/* an object to be used for starting the serial workflow */\nexports.serial = new Serial();\n//# sourceMappingURL=serial.js.map","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Xterm',{ref:\"xterm\",attrs:{\"msg\":\"Welcome to Your Vue.js App\",\"onData\":_vm.onTermData},on:{\"serialConfig\":_vm.serialConfig}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"contextmenu\",rawName:\"v-contextmenu:contextmenu\",arg:\"contextmenu\"}],staticClass:\"terminal\",style:({backgroundColor: _vm.bgColor, color: _vm.fontColor}),attrs:{\"id\":\"terminal\"},on:{\"click\":_vm.handleMove,\"mousemove\":_vm.handleMove}},[_c('div',{staticClass:\"header\"},[_c('span',[_vm._v(\"串口终端\")]),_c('ul',{staticClass:\"menu-list\"},[(false)?_c('li',{staticClass:\"active\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentTab),expression:\"currentTab\"}],staticClass:\"terminal-select\",style:({backgroundColor: _vm.bgColor, color: _vm.fontColor }),on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.currentTab=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.tabs),function(item,index){return _c('option',{key:index,domProps:{\"value\":index}},[_vm._v(_vm._s('终端'+index))])}),0)]):_vm._e(),_c('li',{staticClass:\"el-icon-plus\",on:{\"click\":_vm.handlePlus}}),_c('li',{staticClass:\"el-icon-delete\",on:{\"click\":_vm.handleDelete}}),_c('li',{staticClass:\"el-icon-download\",on:{\"click\":_vm.downloadTxt}})])]),_c('div',{attrs:{\"id\":\"xterm-wrapper\"}},_vm._l((_vm.tabs),function(tab,index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(index == _vm.currentTab),expression:\"index == currentTab\"}],key:index,staticClass:\"xterm-tabs\"},[(tab.children.length >= 4)?_c('div',{staticClass:\"xterm-tab-item\"},[_c('el-row',{staticClass:\"el-row-4\",attrs:{\"type\":\"flex\"}},_vm._l((tab.children.slice(0,2)),function(item,k){return _c('el-col',{key:k,staticClass:\"el-col\",attrs:{\"span\":12}},[_c('div',{staticClass:\"terminal-pane\",attrs:{\"id\":item.name}}),_c('div',{staticClass:\"serial_status\"},[_vm._v(\" \"+_vm._s(item.online?'Online':'Offline'))])])}),1),_c('el-row',{staticClass:\"el-row-4\",attrs:{\"type\":\"flex\"}},_vm._l((tab.children.slice(2)),function(item,k){return _c('el-col',{key:k,staticClass:\"el-col\",attrs:{\"span\":12}},[_c('div',{staticClass:\"terminal-pane\",attrs:{\"id\":item.name}}),_c('div',{staticClass:\"serial_status\"},[_vm._v(\" \"+_vm._s(item.online?'Online':'Offline'))])])}),1)],1):_c('div',{staticClass:\"xterm-tab-item\"},[_c('el-row',{attrs:{\"type\":\"flex\"}},_vm._l((tab.children),function(item,k){return _c('el-col',{key:k,staticClass:\"el-col\",attrs:{\"span\":(24/tab.children.length)}},[_c('div',{staticClass:\"terminal-pane\",attrs:{\"id\":item.name}}),_c('div',{staticClass:\"serial_status\"},[_vm._v(\" \"+_vm._s(item.online?'Online':'Offline'))])])}),1)],1)])}),0),_c('v-contextmenu',{ref:\"contextmenu\",staticClass:\"contextmenu\"},[_c('v-contextmenu-item',{on:{\"click\":_vm.handleSplitPane}},[_vm._v(\"分屏\")]),(_vm.tabs.length&&_vm.tabs[0].children.length>1)?_c('v-contextmenu-item',{on:{\"click\":_vm.handleDelete}},[_vm._v(\"关闭\")]):_vm._e(),_c('v-contextmenu-item',{on:{\"click\":function($event){_vm.dialogVisible = true;_vm.config_type='color'}}},[_vm._v(\"设置\")])],1),_c('config-modal',{attrs:{\"visible\":_vm.dialogVisible,\"config_type\":_vm.config_type},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"setTheme\":_vm.handleChangeTheme,\"serialConfig\":_vm.serialConfig}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visible),expression:\"visible\"}],staticClass:\"dialog-modal\"},[_c('div',{staticClass:\"config-container\"},[_c('el-tabs',{on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{directives:[{name:\"show\",rawName:\"v-show\",value:('serial' == _vm.config_type),expression:\"'serial' == config_type\"}],attrs:{\"label\":\"串口配置\",\"name\":\"second\"}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.serialConfig,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"波特率\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"allow-create\":\"\",\"default-first-option\":\"\",\"placeholder\":\"波特率\"},model:{value:(_vm.serialConfig.baudRate),callback:function ($$v) {_vm.$set(_vm.serialConfig, \"baudRate\", $$v)},expression:\"serialConfig.baudRate\"}},_vm._l((_vm.baudRate),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"数据位\"}},[_c('el-radio-group',{model:{value:(_vm.serialConfig.dataBits),callback:function ($$v) {_vm.$set(_vm.serialConfig, \"dataBits\", $$v)},expression:\"serialConfig.dataBits\"}},[_c('el-radio',{attrs:{\"label\":8}},[_vm._v(\"8位\")]),_c('el-radio',{attrs:{\"label\":7}},[_vm._v(\"7位\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"停止位\"}},[_c('el-radio-group',{model:{value:(_vm.serialConfig.stopBits),callback:function ($$v) {_vm.$set(_vm.serialConfig, \"stopBits\", $$v)},expression:\"serialConfig.stopBits\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"1位\")]),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"2位\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"流控\"}},[_c('el-radio-group',{model:{value:(_vm.serialConfig.flowControl),callback:function ($$v) {_vm.$set(_vm.serialConfig, \"flowControl\", $$v)},expression:\"serialConfig.flowControl\"}},[_c('el-radio',{attrs:{\"label\":\"none\"}},[_vm._v(\"none\")]),_c('el-radio',{attrs:{\"label\":\"hardware\"}},[_vm._v(\"hardware\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"校验方式\"}},[_c('el-radio-group',{model:{value:(_vm.serialConfig.parity),callback:function ($$v) {_vm.$set(_vm.serialConfig, \"parity\", $$v)},expression:\"serialConfig.parity\"}},[_c('el-radio',{attrs:{\"label\":\"none\"}},[_vm._v(\"none\")]),_c('el-radio',{attrs:{\"label\":\"even\"}},[_vm._v(\"even\")]),_c('el-radio',{attrs:{\"label\":\"odd\"}},[_vm._v(\"odd\")])],1)],1)],1)],1),_c('el-tab-pane',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.config_type =='color'),expression:\"config_type =='color'\"}],attrs:{\"label\":\"主题\",\"name\":\"first\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"filterable\":\"\",\"placeholder\":\"请选择主题\"},model:{value:(_vm.theme),callback:function ($$v) {_vm.theme=$$v},expression:\"theme\"}},_vm._l((_vm.themes),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1),(_vm.theme)?_c('div',[_c('p',{staticClass:\"title\"},[_vm._v(\"基础颜色\")]),_c('el-row',{staticClass:\"theme-colors\",attrs:{\"type\":\"flex\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"show-color\",style:({backgroundColor: _vm.colors.background})}),_c('div',[_vm._v(\"Background\")])]),_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"show-color\",style:({backgroundColor: _vm.colors.foreground})}),_c('div',[_vm._v(\"Foreground\")])]),_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"show-color\",style:({backgroundColor: _vm.colors.cursor})}),_c('div',[_vm._v(\"Cursor\")])])],1),_c('p',{staticClass:\"title\"},[_vm._v(\"ANSI Colors\")]),_c('el-row',{staticClass:\"theme-colors\",attrs:{\"type\":\"flex\"}},[_c('el-col',{attrs:{\"span\":3}},[_c('div',{staticClass:\"show-color\",style:({backgroundColor: _vm.colors.black})}),_c('div',[_vm._v(\"Black\")])]),_c('el-col',{attrs:{\"span\":3}},[_c('div',{staticClass:\"show-color\",style:({backgroundColor: _vm.colors.red})}),_c('div',[_vm._v(\"Red\")])]),_c('el-col',{attrs:{\"span\":3}},[_c('div',{staticClass:\"show-color\",style:({backgroundColor: _vm.colors.green})}),_c('div',[_vm._v(\"Green\")])]),_c('el-col',{attrs:{\"span\":3}},[_c('div',{staticClass:\"show-color\",style:({backgroundColor: _vm.colors.yellow})}),_c('div',[_vm._v(\"Yellow\")])]),_c('el-col',{attrs:{\"span\":3}},[_c('div',{staticClass:\"show-color\",style:({backgroundColor: _vm.colors.blue})}),_c('div',[_vm._v(\"Blue\")])]),_c('el-col',{attrs:{\"span\":3}},[_c('div',{staticClass:\"show-color\",style:({backgroundColor: _vm.colors.magenta})}),_c('div',[_vm._v(\"Magenta\")])]),_c('el-col',{attrs:{\"span\":3}},[_c('div',{staticClass:\"show-color\",style:({backgroundColor: _vm.colors.cyan})}),_c('div',[_vm._v(\"Cyan\")])]),_c('el-col',{attrs:{\"span\":3}},[_c('div',{staticClass:\"show-color\",style:({backgroundColor: _vm.colors.white})}),_c('div',[_vm._v(\"White\")])])],1),_c('el-row',{staticClass:\"theme-colors\",attrs:{\"type\":\"flex\"}},[_c('el-col',{attrs:{\"span\":3}},[_c('div',{staticClass:\"show-color\",style:({backgroundColor: _vm.colors.brightBlack})}),_c('div',[_vm._v(\"BrightBlack\")])]),_c('el-col',{attrs:{\"span\":3}},[_c('div',{staticClass:\"show-color\",style:({backgroundColor: _vm.colors.brightRed})}),_c('div',[_vm._v(\"BrightRed\")])]),_c('el-col',{attrs:{\"span\":3}},[_c('div',{staticClass:\"show-color\",style:({backgroundColor: _vm.colors.brightGreen})}),_c('div',[_vm._v(\"BrightGreen\")])]),_c('el-col',{attrs:{\"span\":3}},[_c('div',{staticClass:\"show-color\",style:({backgroundColor: _vm.colors.brightYellow})}),_c('div',[_vm._v(\"BrightYellow\")])]),_c('el-col',{attrs:{\"span\":3}},[_c('div',{staticClass:\"show-color\",style:({backgroundColor: _vm.colors.brightBlue})}),_c('div',[_vm._v(\"BrightBlue\")])]),_c('el-col',{attrs:{\"span\":3}},[_c('div',{staticClass:\"show-color\",style:({backgroundColor: _vm.colors.brightMagenta})}),_c('div',[_vm._v(\"BrightMagenta\")])]),_c('el-col',{attrs:{\"span\":3}},[_c('div',{staticClass:\"show-color\",style:({backgroundColor: _vm.colors.brightCyan})}),_c('div',[_vm._v(\"BrightCyan\")])]),_c('el-col',{attrs:{\"span\":3}},[_c('div',{staticClass:\"show-color\",style:({backgroundColor: _vm.colors.brightWhite})}),_c('div',[_vm._v(\"BrightWhite\")])])],1)],1):_vm._e()],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.$emit('update:visible', false)}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.Btn_Click('OK')}}},[_vm._v(\"确 定\")])],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"dialog-modal\" v-show=\"visible\" >\n    <!-- @click.self=\"() => $emit('update:visible', false)\" -->\n    <div class=\"config-container\">\n      <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\n        <el-tab-pane label=\"串口配置\" name=\"second\" v-show=\"'serial' == config_type\">\n            <el-form ref=\"form\" :model=\"serialConfig\" label-width=\"80px\">\n                <el-form-item label=\"波特率\">\n                    <!-- <el-input v-model=\"serialConfig.baudRate\"></el-input> -->\n                    <el-select v-model=\"serialConfig.baudRate\"  filterable allow-create default-first-option placeholder=\"波特率\">\n                        <el-option v-for=\"item in baudRate\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"> </el-option>\n                    </el-select>\n                </el-form-item>\n\n                <el-form-item label=\"数据位\">\n                    <el-radio-group v-model=\"serialConfig.dataBits\">\n                        <el-radio :label=\"8\">8位</el-radio>\n                        <el-radio :label=\"7\">7位</el-radio>\n                    </el-radio-group>\n                </el-form-item>                \n\n                <el-form-item label=\"停止位\">\n                    <el-radio-group v-model=\"serialConfig.stopBits\">\n                        <el-radio :label=\"1\">1位</el-radio>\n                        <el-radio :label=\"2\">2位</el-radio>\n                    </el-radio-group>\n                </el-form-item>\n\n                <el-form-item label=\"流控\">\n                    <el-radio-group v-model=\"serialConfig.flowControl\">\n                        <el-radio label=\"none\">none</el-radio>\n                        <el-radio label=\"hardware\">hardware</el-radio>\n                    </el-radio-group>\n                </el-form-item>\n\n                <el-form-item label=\"校验方式\">\n                    <el-radio-group v-model=\"serialConfig.parity\">\n                        <el-radio label=\"none\">none</el-radio>\n                        <el-radio label=\"even\">even</el-radio>\n                        <el-radio label=\"odd\">odd</el-radio>\n                    </el-radio-group>\n                </el-form-item>\n\n            </el-form>\n        </el-tab-pane>\n\n        <el-tab-pane v-show=\"config_type =='color'\" label=\"主题\" name=\"first\" >\n          <el-select v-model=\"theme\" filterable placeholder=\"请选择主题\" style=\"width: 100%\">\n            <el-option v-for=\"item in themes\" :key=\"item\" :label=\"item\" :value=\"item\"></el-option>\n          </el-select>\n          <div v-if=\"theme\">\n            <p class=\"title\">基础颜色</p>\n            <el-row type=\"flex\" class=\"theme-colors\">\n              <el-col :span=\"8\">\n                <div class=\"show-color\" :style=\"{backgroundColor: colors.background}\"></div>\n                <div>Background</div>\n              </el-col>\n              <el-col :span=\"8\">\n                <div class=\"show-color\" :style=\"{backgroundColor: colors.foreground}\"></div>\n                <div>Foreground</div>\n              </el-col>\n              <el-col :span=\"8\">\n                <div class=\"show-color\" :style=\"{backgroundColor: colors.cursor}\"></div>\n                <div>Cursor</div>\n              </el-col>\n            </el-row>\n            <p class=\"title\">ANSI Colors</p>\n            <el-row type=\"flex\" class=\"theme-colors\">\n              <el-col :span=\"3\">\n                <div class=\"show-color\" :style=\"{backgroundColor: colors.black}\"></div>\n                <div>Black</div>\n              </el-col>\n              <el-col :span=\"3\">\n                <div class=\"show-color\" :style=\"{backgroundColor: colors.red}\"></div>\n                <div>Red</div>\n              </el-col>\n              <el-col :span=\"3\">\n                <div class=\"show-color\" :style=\"{backgroundColor: colors.green}\"></div>\n                <div>Green</div>\n              </el-col>\n              <el-col :span=\"3\">\n                <div class=\"show-color\" :style=\"{backgroundColor: colors.yellow}\"></div>\n                <div>Yellow</div>\n              </el-col>\n              <el-col :span=\"3\">\n                <div class=\"show-color\" :style=\"{backgroundColor: colors.blue}\"></div>\n                <div>Blue</div>\n              </el-col>\n              <el-col :span=\"3\">\n                <div class=\"show-color\" :style=\"{backgroundColor: colors.magenta}\"></div>\n                <div>Magenta</div>\n              </el-col>\n              <el-col :span=\"3\">\n                <div class=\"show-color\" :style=\"{backgroundColor: colors.cyan}\"></div>\n                <div>Cyan</div>\n              </el-col>\n              <el-col :span=\"3\">\n                <div class=\"show-color\" :style=\"{backgroundColor: colors.white}\"></div>\n                <div>White</div>\n              </el-col>\n            </el-row>\n            <el-row type=\"flex\" class=\"theme-colors\">\n              <el-col :span=\"3\">\n                <div class=\"show-color\" :style=\"{backgroundColor: colors.brightBlack}\"></div>\n                <div>BrightBlack</div>\n              </el-col>\n              <el-col :span=\"3\">\n                <div class=\"show-color\" :style=\"{backgroundColor: colors.brightRed}\"></div>\n                <div>BrightRed</div>\n              </el-col>\n              <el-col :span=\"3\">\n                <div class=\"show-color\" :style=\"{backgroundColor: colors.brightGreen}\"></div>\n                <div>BrightGreen</div>\n              </el-col>\n              <el-col :span=\"3\">\n                <div class=\"show-color\" :style=\"{backgroundColor: colors.brightYellow}\"></div>\n                <div>BrightYellow</div>\n              </el-col>\n              <el-col :span=\"3\">\n                <div class=\"show-color\" :style=\"{backgroundColor: colors.brightBlue}\"></div>\n                <div>BrightBlue</div>\n              </el-col>\n              <el-col :span=\"3\">\n                <div class=\"show-color\" :style=\"{backgroundColor: colors.brightMagenta}\"></div>\n                <div>BrightMagenta</div>\n              </el-col>\n              <el-col :span=\"3\">\n                <div class=\"show-color\" :style=\"{backgroundColor: colors.brightCyan}\"></div>\n                <div>BrightCyan</div>\n              </el-col>\n              <el-col :span=\"3\">\n                <div class=\"show-color\" :style=\"{backgroundColor: colors.brightWhite}\"></div>\n                <div>BrightWhite</div>\n              </el-col>\n            </el-row>\n          </div>\n        </el-tab-pane>\n\n\n\n      </el-tabs>\n       <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"$emit('update:visible', false)\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"Btn_Click('OK')\">确 定</el-button>\n      </span>\n    </div>\n     \n  </div>\n</template>\n\n<script>\nimport xtermTheme from \"xterm-theme\";\nconst themes = Object.keys(xtermTheme);\n\n/*\n{\n                baudRate: 115200,\n                dataBits:8,//7 or 8\n                stopBits:1,//1 or 2\n                parity:'none',// even or odd\n                bufferSize:1024,//must less than 16M\n                flowControl:'none',//none||hardware\n  }\n*/\n\n\nexport default {\n  name: \"ConfigModal\",\n  props: {\n    visible: Boolean,\n    config_type:{type:String,default:\"serial\"},\n  },\n  data() {\n    return {\n        activeName: \"second\",\n        themes: themes,\n        theme: window.localStorage.getItem(\"themeName\") || null,\n        bgimg: window.localStorage.getItem(\"bgimg\") || null,\n\n        baudRate:[\n            {value:9600,label:\"9600\"},\n            {value:14400,label:\"14400\"},\n            {value:19220,label:\"19220\"},\n            {value:28800,label:\"28800\"},\n            {value:38400,label:\"38400\"},\n            {value:57600,label:\"57600\"},\n            {value:115200,label:\"115200\"},\n            {value:230400,label:\"230400\"},\n            {value:460800,label:\"460800\"},\n\n        ],\n        serialConfig:{\n            baudRate: 115200,\n            dataBits:8,//7 or 8\n            stopBits:1,//1 or 2\n            parity:'none',// even or odd\n            bufferSize:1024,//must less than 16M\n            flowControl:'none',//none||hardware\n        }\n\n    };\n  },\n  computed: {\n    colors() {\n      if (this.theme) {\n        return xtermTheme[this.theme];\n      } else {\n        return null;\n      }\n    }\n  },\n  watch: {\n    theme(val) {\n      window.localStorage.setItem(\"themeName\", val);\n      this.$emit(\"setTheme\", xtermTheme[val]);\n    }\n  },\n  methods: {\n    handleUpload(event) {\n      let file = event.target.files[0];\n      var reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = e => {\n        this.bgimg = e.target.result;\n        window.localStorage.setItem(\"bgimg\", e.target.result);\n      };\n    },\n    handleClick(){\n\n    },\n    cancleDialog(){\n        this.$emit('update:visible', false)\n    },\n    Btn_Click(type){\n       if(type=='OK'){\n          this.$emit('update:visible', false);\n          this.$emit(\"serialConfig\", this.serialConfig);\n       }\n    }\n\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.dialog-modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 2000;\n  text-align: center;\n  background-color: rgba(0, 0, 0, 0.1);\n  color: #000;\n\n  &::after {\n    content: \"\";\n    display: inline-block;\n    height: 100%;\n    width: 0;\n    vertical-align: middle;\n  }\n}\n.config-container {\n  position: relative;\n  display: inline-block;\n  min-width: 640px;\n  min-height: 380px;\n  padding: 10px 10px 20px;\n  vertical-align: middle;\n  background-color: #fff;\n  border-radius: 4px;\n  border: 1px solid #ebeef5;\n  font-size: 18px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n  text-align: left;\n  overflow: hidden;\n  backface-visibility: hidden;\n\n  .btn-close {\n    position: absolute;\n    top: 5px;\n    right: 10px;\n    width: 10px;\n    height: 10px;\n    cursor: pointer;\n  }\n\n  .title {\n    font-size: 14px;\n  }\n\n  .theme-colors {\n    font-size: 12px;\n\n    .show-color {\n      width: 100%;\n      height: 24px;\n      margin-bottom: 10px;\n    }\n\n    .el-col {\n      text-align: center;\n    }\n  }\n\n  .bgimg-btn {\n    width: 600px;\n    height: 300px;\n\n    img {\n      width: 100%;\n      height: 100%;\n    }\n  }\n}\n\n.upload-input {\n  z-index: 100000;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  font-size: 0;\n  opacity: 0;\n}\n\n.dialog-footer{\n    display:float;\n    float: right;\n   padding-top:10px;\n   margin-top:25px;\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ThemeConfig.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ThemeConfig.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ThemeConfig.vue?vue&type=template&id=4a142f74&scoped=true&\"\nimport script from \"./ThemeConfig.vue?vue&type=script&lang=js&\"\nexport * from \"./ThemeConfig.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ThemeConfig.vue?vue&type=style&index=0&id=4a142f74&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a142f74\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"terminal\" v-contextmenu:contextmenu id=\"terminal\" @click=\"handleMove\" @mousemove=\"handleMove\" :style=\"{backgroundColor: bgColor, color: fontColor}\">\n    <div class=\"header\">\n        <span>串口终端</span>\n        <ul class=\"menu-list\">\n            <li class=\"active\" v-if=\"false\">\n                <select class=\"terminal-select\" v-model=\"currentTab\" :style=\"{backgroundColor: bgColor, color: fontColor }\">\n                    <option :value=\"index\" v-for=\"(item, index) in tabs\" :key=\"index\">{{ '终端'+index }}</option>\n                </select>\n            </li>\n            <li class=\"el-icon-plus\" @click=\"handlePlus\"></li>\n            <li class=\"el-icon-delete\" @click=\"handleDelete\"></li>\n            <li class=\"el-icon-download\" @click=\"downloadTxt\"></li>\n        </ul>\n    </div>\n    <div id=\"xterm-wrapper\">\n        <div  v-for=\"(tab, index) in tabs\" :key=\"index\" class=\"xterm-tabs\" v-show=\"index == currentTab\">\n            <div v-if=\"tab.children.length >= 4\" class=\"xterm-tab-item\">\n                <el-row type=\"flex\" class=\"el-row-4\">\n                    <el-col :span=\"12\" v-for=\"(item, k) in tab.children.slice(0,2)\" :key=\"k\" class=\"el-col\">\n                        <div class=\"terminal-pane\" :id=\"item.name\"> </div>\n                        <div class=\"serial_status\"> {{item.online?'Online':'Offline'}}</div>\n                    </el-col>\n                </el-row>\n                <el-row type=\"flex\" class=\"el-row-4\">\n                    <el-col :span=\"12\" v-for=\"(item, k) in tab.children.slice(2)\" :key=\"k\" class=\"el-col\">\n                        <div class=\"terminal-pane\" :id=\"item.name\"></div>\n                        <div class=\"serial_status\"> {{item.online?'Online':'Offline'}}</div>\n                    </el-col>\n                </el-row>\n            </div>\n            <div v-else class=\"xterm-tab-item\">\n                <el-row type=\"flex\">\n                    <el-col :span=\"(24/tab.children.length)\" v-for=\"(item, k) in tab.children\" :key=\"k\" class=\"el-col \">\n                        <div class=\"terminal-pane\" :id=\"item.name\"> </div>\n                        <div class=\"serial_status\"> {{item.online?'Online':'Offline'}}</div>\n                    </el-col>\n                </el-row>\n            </div>\n        </div>\n    </div>\n    <v-contextmenu ref=\"contextmenu\" class=\"contextmenu\">\n        <!-- <v-contextmenu-item @click=\"handleCreateTab\">新建Tab</v-contextmenu-item> -->\n        <v-contextmenu-item @click=\"handleSplitPane\">分屏</v-contextmenu-item>\n        <v-contextmenu-item @click=\"handleDelete\" v-if=\"tabs.length&&tabs[0].children.length>1\">关闭</v-contextmenu-item>\n        <v-contextmenu-item @click=\"dialogVisible = true;config_type='color'\">设置</v-contextmenu-item>\n    </v-contextmenu> \n    <config-modal :visible.sync=\"dialogVisible\" :config_type =\"config_type\" @setTheme=\"handleChangeTheme\" @serialConfig=\"serialConfig\"></config-modal>\n    </div>\n</template>\n\n<script>\n\n// import { WebLinksAddon } from \"xterm-addon-web-links\";\n// import Terminal from \"./MyXterm\";\n// import {Terminal,fit,search,weblink} from \"./MyXterm\";\n// import ConfigModal from \"./components/Config\";\n\nimport {Terminal } from 'xterm';\nimport {v4 as uuidv4 } from \"uuid\";\nimport {FitAddon } from 'xterm-addon-fit'\nimport ConfigModal from './ThemeConfig';\nimport 'xterm/css/xterm.css'\n\n\n// import {writeSerial,openSerial,listSerial,TermLog} from \"./serial.js\"\n\n\n// import {transfer} from \"@/Modules/ymodem\";\n// import {Serial} from \"@/Modules/web_serial\";\n// import {delay_ms,curr_tm_str} from \"@/utils/index\";\n// import {serial as usb_serial} from \"@/Modules/google_serial\";\n\n\nfunction isInRect(rect, event) {\n    if (\n        event.clientY >= rect.top &&\n        event.clientY <= rect.top + rect.height &&\n        event.clientX >= rect.left &&\n        event.clientX <= rect.left + rect.width\n    ) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\nexport default {\n    name: \"SerialTerminal\",\n    props: {\n        caption:{type:String,default:\"\"},\n        prompt:{type:String,default:\"$\"},\n        onData:{type:Function,default:null},\n        onKey:{type:Function,default:null},\n    },\n    data() {\n        return {\n            term: null,\n            tabs: [],\n            config_type:\"\",\n            socket: null,\n            currentTab: 0,\n            dialogVisible: false,\n            theme: window.localStorage.getItem(\"theme\") ?\n                JSON.parse(window.localStorage.getItem(\"theme\")) :\n                {\n                  foreground: \"#ECECEC\", //字体\n                  background: \"#000000\", //背景色\n                  cursor: \"help\", //设置光标\n                  lineHeight: 20\n                },\n        };\n    },\n    computed: {\n        bgColor() {\n            if (this.theme) {\n                return this.theme.background;\n            } else {\n                return \"#000\";\n            }\n        },\n        fontColor() {\n            if (this.theme) {\n                return this.theme.foreground;\n            } else {\n                return \"#fff\";\n            }\n        }\n    },\n    components: {\n        ConfigModal\n    },\n    methods: {\n        createTerminal(container, callback) {\n            let self = this;\n            let terminalname = \"terminal\" + uuidv4();\n\n            let term = new Terminal({\n                theme: this.theme,\n                disableStdin: false, //是否应禁用输入\n            });\n            // term.loadAddon(new weblink());\n            term.fitAddon = new FitAddon();\n            term.loadAddon(term.fitAddon);\n            // term.loadAddon(new search());\n            term.prompt = () => {  \n                term.write(\"\\x1b[33m$\\x1b[0m>\")\n            }\n\n            term.onKey(e=> {\n                let ev = e.domEvent;\n                if(ev.key == 'k' && (ev.ctrlKey||ev.metaKey)){\n                    term.clear();\n                    return true;\n                }\n                // eslint-disable-next-line\n                // debugger\n                if(self.onKey) {\n                    if(self.onKey(e,term)) return true; \n                }\n                // term.prompt();\n            })\n\n            let pane = {\n                term: term,\n                name: terminalname,\n                serial:null,\n                online:false,\n            };\n\n            term.pane = pane;\n\n            term.onData(data => {\n                console.log(`onData:[${data.toString()}]`,typeof(data));\n                if(self.onData)  self.onData(data,term);\n                else{\n                    term.write(data)\n                } \n            });\n            container.children.push(pane);\n            container.currentPane = container.children.length - 1;\n\n            callback && callback();\n\n            window.addEventListener(\"resize\", () => {\n                term.fitAddon.fit();\n            });\n\n            this.$nextTick(() => {\n                //term.open(document.getElementById(terminalname));\n                let element = document.getElementById(terminalname);\n                term.open(element);\n\n                container.children.forEach(item => {\n                    let termEle = document.getElementById(item.name);\n                    if (item.term.element != termEle.children[0]) {\n                        termEle.innerHTML = \"\";\n                        termEle.append(item.term.element);\n                    }\n                    item.term.fitAddon.fit();\n                    item.rect = item.term.element.getBoundingClientRect();\n                });\n            });\n        },\n        handlePlus() {\n            this.handleSplitPane()\n        },\n        downloadTxt(){\n            let tab = this.tabs[this.currentTab];\n            let {term} = tab.children[tab.currentPane];\n            if (term.rows === 0) {\n                console.log('No output yet');\n                return;\n            }\n            term.selectAll();\n            const contents = term.getSelection();\n            term.clearSelection();\n            const linkContent = URL.createObjectURL(\n              new Blob([new TextEncoder().encode(contents).buffer],\n                  {type: 'text/plain'}));\n            const fauxLink = document.createElement('a');\n            fauxLink.download = `terminal_content_${new Date().getTime()}.txt`;\n            fauxLink.href = linkContent;\n            fauxLink.click();\n        },\n        async handleDelete() {\n            if (this.tabs.length == 1 && this.tabs[this.currentTab].children.length == 1 ) {\n                this.$message({\n                    type: \"warning\",\n                    message: \"仅有一个分屏窗口\"\n                });\n                return false;\n            } else {\n\n                let tab = this.tabs[this.currentTab];\n                let {term,serial} = tab.children[tab.currentPane];\n\n                \n                let cont = true;\n                if(serial){\n                    cont = await this.$confirm(\"串口已经打开，是否关闭?\", '提示', {\n                        confirmButtonText: '关闭',\n                        cancelButtonText: '取消',\n                        type: 'warning'\n                    }).then(() => {\n                        return true;\n                    }).catch(() =>{\n                        return false;\n                    })\n                }\n                if(!cont) return;\n                if(serial ) serial.close();//&&serial.close\n\n                term.destroy && term.destroy();\n                if (tab.children.length > 1) {\n                    tab.children.splice(tab.currentPane, 1);\n                    tab.currentPane = tab.children.length - 1;\n                    this.$nextTick(() => {\n                        tab.children.forEach(item => {\n                            let termEle = document.getElementById(item.name);\n                            if (item.term.element != termEle.children[0]) {\n                                termEle.innerHTML = \"\";\n                                termEle.append(item.term.element);\n                            }\n                            item.term.fitAddon.fit();\n                            item.rect = item.term.element.getBoundingClientRect();\n                        });\n                        tab.children[tab.currentPane].term.focus();\n                    });\n                } else {\n                    this.tabs.splice(this.currentTab, 1);\n                    this.currentTab = this.tabs.length - 1;\n                    let tab = this.tabs[this.currentTab];\n                    tab.currentPane = tab.children.length - 1;\n                    tab.children[tab.currentPane].term.focus();\n\n                    this.$nextTick(() => {\n                        this.tabs.forEach(tab => {\n                            tab.children.forEach(item => {\n                                let termEle = document.getElementById(item.name);\n                                if (item.term.element != termEle.children[0]) {\n                                    termEle.innerHTML = '';\n                                    termEle.append(item.term.element);\n                                }\n                                item.term.fitAddon.fit();\n                                item.rect = item.term.element.getBoundingClientRect();\n                            });\n                            tab.children[tab.currentPane].term.focus();\n                        });\n                    });\n                }\n            }\n        },\n        handleSplitPane() {\n            // 分屏\n            let tab = this.tabs[this.currentTab];\n            if (tab.children.length >= 4) {\n                this.$message({\n                    type: \"warning\",\n                    message: \"分屏已经达到最大数量\"\n                });\n                return false;\n            }\n            this.createTerminal(tab, null);\n        },\n\n        handleCreateTab() {\n            // 新建Tab\n            let tab = {\n                name: \"tab0\",\n                children: []\n            };\n            this.createTerminal(tab, () => {\n                this.tabs.push(tab);\n                this.currentTab = this.tabs.length - 1;\n            });\n        },\n\n        handleMove(event) {\n            let tab = this.tabs[this.currentTab];\n            if(!tab) return;\n            let pane = tab.children[tab.currentPane];\n            if (isInRect(pane.rect, event)) {\n                return false;\n            }\n            if(this.dialogVisible){\n                return false;\n            }\n            tab.children.forEach(({term, rect }, i) => {\n                if (isInRect(rect, event)) {\n                    term.focus();\n                    tab.currentPane = i;\n                } else {\n                    term.blur();\n                }\n            });\n        },\n\n        handleChangeTheme(val) {\n            this.theme = val;\n            let tab  = this.tabs[this.currentTab];\n            let pane = tab.children[tab.currentPane];\n            if(pane) pane.term._core.options.theme = val;\n        \n            window.localStorage.setItem(\"theme\", JSON.stringify(val));\n        },\n        showConfigDlg(show,type=\"\"){\n            this.config_type = type;\n            this.dialogVisible = show;\n        },\n        serialConfig(conf){\n            if(this.config_type == 'serial'){\n                let tab  = this.tabs[this.currentTab];\n                let pane = tab.children[tab.currentPane]; \n                this.$emit('serialConfig',{conf,pane});\n            }\n\n        },\n        close() {\n            if (this.tabs.length > 0) {\n                this.tabs.forEach(tab => {\n                    if (tab.children) {\n                        tab.children.forEach(({term}) => {\n                            term.destroy && term.destroy();\n                        });\n                    }\n                });\n            }\n        },\n    },\n    created() {\n        window.onkeydown = window.onkeyup = window.onkeypress = () => {\n            let _key = window.event.keyCode;\n            if (_key === 70 && window.event.ctrlKey) {\n                window.event.returnValue = false;\n                let tab = this.tabs[this.currentTab];\n                tab.children[tab.currentPane].term.findNext(\"go\", {\n                    incremental: true\n                });\n                return false;\n            }\n        };\n        window.onunload = () => {\n            this.close();\n        };\n    },\n    mounted() {\n        if (this.tabs.length == 0) {\n            let tab = {\n                name: \"tab0\",\n                children: []\n            };\n            this.createTerminal(tab, () => {\n                this.tabs.push(tab);\n                this.currentTab = this.tabs.length - 1;\n            });\n        }\n    },\n    beforeDestroy() {\n        this.close();\n    }\n};\n</script>\n\n<style lang=\"less\" scoped>\n* {\n  margin: 0;\n  padding: 0;\n}\n\n#terminal {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  top: 0;\n  padding-top: 40px;\n  background-color: #000;\n  z-index: 1002;\n\n  .header {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    width: 100%;\n    height: 40px;\n    line-height: 40px;\n    font-size: 14px;\n    font-weight: bolder;\n    padding: 0 10px;\n    box-sizing: border-box;\n    border-bottom: 1px solid #909399;\n\n    * {\n        box-sizing: border-box;\n    }\n    .menu-list {\n        list-style: none;\n        float: right;\n        height: 40px;\n        li {\n        padding: 0 10px;\n        line-height: 40px;\n        cursor: pointer;\n        float: left;\n        }\n    }\n    .terminal-select {\n        width: 120px;\n        margin-right: 5px;\n    }\n    .el-icon-plus,\n    .el-icon-delete {\n        font-size: 18px;\n    }\n    }\n\n    #xterm-wrapper {\n    width: 100%;\n    height: 100%;\n\n    .xterm-tabs, .xterm-tab-item,\n    .el-row {\n        width: 100%;\n        height: 100%;\n    }\n\n    .el-row-4 {\n        height: 50%;\n    }\n\n    .el-row-4:last-child {\n        border-top: 1px solid #dcdfe6;\n    }\n\n    .el-col {\n        padding: 10px;\n    }\n\n    .terminal-pane {\n        width: 100%;\n        height: 100%;\n        \n    }\n\n    .serial_status{\n        //position :absolute;\n        position :relative;\n        left :50%;\n        top:-50%;\n        opacity:0.5;\n        z-index:199;\n        font-size:32px;\n        font-weight:7;\n    }\n\n    .xterm {\n        opacity: 0.1;\n    }\n    .xterm.focus {\n        opacity: 1;\n    }\n    }\n}\n\n.contextmenu {\n  background-color: #c0c4cc;\n  border: 0;\n  color: #303133;\n  min-width: 100px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12), 0 0 6px rgba(0, 0, 0, 0.04);\n}\n\n.el-col-12:not(:last-child),\n.el-col-8:not(:last-child) {\n  border-right: 1px solid #dcdfe6;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./XTerm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./XTerm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./XTerm.vue?vue&type=template&id=22a0a1c8&scoped=true&\"\nimport script from \"./XTerm.vue?vue&type=script&lang=js&\"\nexport * from \"./XTerm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./XTerm.vue?vue&type=style&index=0&id=22a0a1c8&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"22a0a1c8\",\n  null\n  \n)\n\nexport default component.exports","import { EventEmitter } from 'events';\n\nexport class Serial extends EventEmitter {\n    constructor(serial) {\n        super();\n        this.serial   = serial;\n        this.connected= false;\n        this.reader   = null;\n    }\n    async getInfo() {\n      return this.serial.getInfo();\n    }\n    state(){\n        return this.serial.state;\n    }\n    read(){\n        let self = this;\n        const readLoop = () => {\n            let readable = self.serial.readable;\n            if(!readable ) return \"!readable\";\n            //readFatal,writeFatal\n            var reader = readable.getReader();/*creates a reader and locks readable to it*/\n            \n            self.reader  = reader;\n            reader.read().then(({value, done}) => {\n                reader.releaseLock();\n                if (value) {\n                    self.emit('data', value);\n                }\n                if (done) {\n                    // disconnect\n                    /*If done is true, the serial port has been closed or there is no more data coming in*/\n                    reader.releaseLock();\n                    self.connected = false;\n                    self.emit('disconnect',\"down\");\n                    console.log(\"reader.read() DOWN\");\n                }else {\n                    readLoop();\n                }\n            }).catch((err) => {\n                reader.releaseLock();\n                console.log(err);\n                self.connected = false;\n                self.emit('disconnect',err);\n            })\n        };\n        readLoop();\n        return ;\n    }\n    open(options) {\n        let self = this;\n        return new Promise((resolve, reject) => {\n            self.serial.open(options) .then(() => {\n                self.connected = true;\n                self.emit('connect');\n                self.read();\n                resolve();\n            }).catch((err) => {\n                reject(err);\n            });\n        });\n    }\n\n    close() {\n        return new Promise((resolve, reject) => {\n          if (this.reader) {\n            this.reader.cancel()\n                .then(() => this.serial.close())\n                .then(() => resolve())\n                .catch((err) =>{\n                    this.reader.releaseLock();\n                    reject(err)\n                });\n          } else if(this.serial){\n                this.reader = null;\n                this.serial.close()\n                  .then(() => resolve())\n                  .catch((err) => reject(err));\n            }\n        });\n    }\n    \n    write(data, encoding = 'string') {\n        return new Promise((resolve, reject) => {\n            let writable = this.serial.writable;\n            if(!writable) reject(\"!writable\")\n            const writer = writable.getWriter();\n            if (encoding === 'string') {\n                const encoder = new TextEncoder();\n                writer.write(encoder.encode(data))\n                    .then(_ => {\n                        console.log(\"    :\",_)\n                        resolve()  \n                    })\n                    .catch((err) => reject(err));\n            } else if (encoding === 'binary') {\n                writer.write(data)\n                    .then(() => resolve())\n                    .catch((err) => reject(err));\n            }else{\n                console.log(\"Wirte:ELSE\")\n                // debugger\n            }\n            writer.releaseLock();\n        });\n    }\n\n    setSignals(obj){\n        /*\n            // Turn off Serial Break signal.\n            await port.setSignals({ break: false });\n\n            // Turn on Data Terminal Ready (DTR) signal.\n            await port.setSignals({ dataTerminalReady: true });\n\n            // Turn off Request To Send (RTS) signal.\n            await port.setSignals({ requestToSend: false });\n        */\n        return this.serial.setSignals(obj);\n    }\n\n    getSignals(){\n        /*\n        const signals = await port.getSignals();\n        console.log(`Clear To Send:       ${signals.clearToSend}`);\n        console.log(`Data Carrier Detect: ${signals.dataCarrierDetect}`);\n        console.log(`Data Set Ready:      ${signals.dataSetReady}`);\n        console.log(`Ring Indicator:      ${signals.ringIndicator}`);\n        */\n        return this.serial.getSignals();\n    }\n\n    forget(){\n        this.serial.forget&&this.serial.forget();\n    }\n}\n","'use strict';\n\nconst ANSI_BACKGROUND_OFFSET = 10;\n\nconst wrapAnsi256 = (offset = 0) => code => `\\u001B[${38 + offset};5;${code}m`;\n\nconst wrapAnsi16m = (offset = 0) => (red, green, blue) => `\\u001B[${38 + offset};2;${red};${green};${blue}m`;\n\nfunction assembleStyles() {\n\tconst codes = new Map();\n\tconst styles = {\n\t\tmodifier: {\n\t\t\treset: [0, 0],\n\t\t\t// 21 isn't widely supported and 22 does the same thing\n\t\t\tbold: [1, 22],\n\t\t\tdim: [2, 22],\n\t\t\titalic: [3, 23],\n\t\t\tunderline: [4, 24],\n\t\t\toverline: [53, 55],\n\t\t\tinverse: [7, 27],\n\t\t\thidden: [8, 28],\n\t\t\tstrikethrough: [9, 29]\n\t\t},\n\t\tcolor: {\n\t\t\tblack: [30, 39],\n\t\t\tred: [31, 39],\n\t\t\tgreen: [32, 39],\n\t\t\tyellow: [33, 39],\n\t\t\tblue: [34, 39],\n\t\t\tmagenta: [35, 39],\n\t\t\tcyan: [36, 39],\n\t\t\twhite: [37, 39],\n\n\t\t\t// Bright color\n\t\t\tblackBright: [90, 39],\n\t\t\tredBright: [91, 39],\n\t\t\tgreenBright: [92, 39],\n\t\t\tyellowBright: [93, 39],\n\t\t\tblueBright: [94, 39],\n\t\t\tmagentaBright: [95, 39],\n\t\t\tcyanBright: [96, 39],\n\t\t\twhiteBright: [97, 39]\n\t\t},\n\t\tbgColor: {\n\t\t\tbgBlack: [40, 49],\n\t\t\tbgRed: [41, 49],\n\t\t\tbgGreen: [42, 49],\n\t\t\tbgYellow: [43, 49],\n\t\t\tbgBlue: [44, 49],\n\t\t\tbgMagenta: [45, 49],\n\t\t\tbgCyan: [46, 49],\n\t\t\tbgWhite: [47, 49],\n\n\t\t\t// Bright color\n\t\t\tbgBlackBright: [100, 49],\n\t\t\tbgRedBright: [101, 49],\n\t\t\tbgGreenBright: [102, 49],\n\t\t\tbgYellowBright: [103, 49],\n\t\t\tbgBlueBright: [104, 49],\n\t\t\tbgMagentaBright: [105, 49],\n\t\t\tbgCyanBright: [106, 49],\n\t\t\tbgWhiteBright: [107, 49]\n\t\t}\n\t};\n\n\t// Alias bright black as gray (and grey)\n\tstyles.color.gray     = styles.color.blackBright;\n\tstyles.bgColor.bgGray = styles.bgColor.bgBlackBright;\n\tstyles.color.grey     = styles.color.blackBright;\n\tstyles.bgColor.bgGrey = styles.bgColor.bgBlackBright;\n\n\tfor (const [groupName, group] of Object.entries(styles)) {\n\t\tfor (const [styleName, style] of Object.entries(group)) {\n\t\t\tstyles[styleName] = {\n\t\t\t\topen: `\\u001B[${style[0]}m`,\n\t\t\t\tclose: `\\u001B[${style[1]}m`\n\t\t\t};\n\n\t\t\tgroup[styleName] = styles[styleName];\n\n\t\t\tcodes.set(style[0], style[1]);\n\t\t}\n\n\t\tObject.defineProperty(styles, groupName, {\n\t\t\tvalue: group,\n\t\t\tenumerable: false\n\t\t});\n\t}\n\n\tObject.defineProperty(styles, 'codes', {\n\t\tvalue: codes,\n\t\tenumerable: false\n\t});\n\n\tstyles.color.close = '\\u001B[39m';\n\tstyles.bgColor.close = '\\u001B[49m';\n\n\tstyles.color.ansi256 = wrapAnsi256();\n\tstyles.color.ansi16m = wrapAnsi16m();\n\tstyles.bgColor.ansi256 = wrapAnsi256(ANSI_BACKGROUND_OFFSET);\n\tstyles.bgColor.ansi16m = wrapAnsi16m(ANSI_BACKGROUND_OFFSET);\n\n\t// From https://github.com/Qix-/color-convert/blob/3f0e0d4e92e235796ccb17f6e85c72094a651f49/conversions.js\n\tstyles.rgbToAnsi256 = (red, green, blue) => {\n\t\t// We use the extended greyscale palette here, with the exception of\n\t\t// black and white. normal palette only has 4 greyscale shades.\n\t\tif (red === green && green === blue) {\n\t\t\tif (red < 8) {\n\t\t\t\treturn 16;\n\t\t\t}\n\n\t\t\tif (red > 248) {\n\t\t\t\treturn 231;\n\t\t\t}\n\n\t\t\treturn Math.round(((red - 8) / 247) * 24) + 232;\n\t\t}\n\n\t\treturn 16 +\n\t\t\t(36 * Math.round(red / 255 * 5)) +\n\t\t\t(6 * Math.round(green / 255 * 5)) +\n\t\t\tMath.round(blue / 255 * 5);\n\t};\n\n\tstyles.hexToRgb = hex => {\n\t\tconst matches = /(?<colorString>[a-f\\d]{6}|[a-f\\d]{3})/i.exec(hex.toString(16));\n\t\tif (!matches) {\n\t\t\treturn [0, 0, 0];\n\t\t}\n\n\t\tlet {colorString} = matches.groups;\n\n\t\tif (colorString.length === 3) {\n\t\t\tcolorString = colorString.split('').map(character => character + character).join('');\n\t\t}\n\n\t\tconst integer = Number.parseInt(colorString, 16);\n\n\t\treturn [\n\t\t\t(integer >> 16) & 0xFF,\n\t\t\t(integer >> 8) & 0xFF,\n\t\t\tinteger & 0xFF\n\t\t];\n\t};\n\n\tstyles.hexToAnsi256 = hex => styles.rgbToAnsi256(...styles.hexToRgb(hex));\n\n\treturn styles;\n}\n\nexport default assembleStyles();\n// Make the export immutable\n\n// Object.defineProperty(module, 'exports', {\n// \tenumerable: true,\n// \tget: assembleStyles\n// });"," /* eslint-disable */\nimport {Serial} from \"@/Modules/web_serial\";\nimport {serial as usb_serial} from \"@/Modules/google_serial\";\nimport Styles from \"@/Modules/ansi-styles\";\n\nfunction TermLog(xterm,color){\n    if(!xterm) return;\n    let prefix = color&&Styles[color]?Styles[color].open:\"\";\n    let append = prefix?Styles[color].close:\"\";\n\n    let {pane} = xterm;\n    function f(...arg){\n        let msg = curr_tm_str()+\":\";\n        msg += [...arg].map(it=>{\n            let type = typeof(it);\n            if(type == 'object') {\n                return JSON.stringify(it)\n            }else if(type == 'boolean'){\n                return it?\"True\":\"False\"\n            }else if(Array.isArray(it)){\n                return (it.map(o=>typeof(o)=='object'?JSON.stringify(o):o.toString())).join('');\n            }\n            return it?it.toString():'';\n        }).join(',');\n        xterm.write(`${prefix}${msg}${append}`)\n    }\n    return f;\n}\n\nfunction MyLog(...args){\n    return console.log(...args)\n}\n\nasync function openSerial(serial,param={\n        baudRate: 115200,\n        dataBits:8,//7 or 8\n        stopBits:1,//1 or 2\n        parity:'none',// even or odd\n        bufferSize:1024,//must less than 16M\n        flowControl:'none',//none||hardware\n    }){\n    if(!serial) return;\n    return serial.open(param)\n    // .catch(err=>{\n    //     console.error(\"OPEN COM ERROR:\",err)\n    // });\n}  \n\nclass LineBreakTransformer {\n  constructor() {\n    // A container for holding stream data until a new line.\n    this.chunks = \"\";\n  }\n\n  transform(chunk, controller) {\n    // Append new chunks to existing chunks.\n    this.chunks += chunk;\n    // For each line breaks in chunks, send the parsed lines out.\n    const lines = this.chunks.split(\"\\r\\n\");\n    this.chunks = lines.pop();\n    lines.forEach((line) => controller.enqueue(line));\n  }\n\n  flush(controller) {\n    // When the stream is closed, flush any remaining chunks out.\n    controller.enqueue(this.chunks);\n  }\n}\n\n\n\n\n\n\nasync function listSerial(term,config,parse_cmd=null){\n    let self = this;\n    let {pane} = term;\n\n    try {\n        term.focus();\n        if(pane.serial){\n            let cont = await this.$confirm(\"串口已经打开，是否关闭?\", '提示', {\n                confirmButtonText: '关闭',\n                cancelButtonText: '取消',\n                type: 'warning'\n            }).then(() => {\n                return true;\n            }).catch(() =>{\n                return false;\n            })\n\n            if(!cont) return;\n            \n            let readable = pane.serial.readable;\n            if(readable&&readable.locked){\n                readable.releaseLock();\n                //'SerialPort': Cannot cancel a locked stream\n                await readable.cancel()\n            }\n            pane.serial.close();\n            pane.serial = null;\n            pane.online = false;\n        }\n        // usb_serial\n        // eslint-disable-next-line\n        // debugger\n        let hostApi  = navigator.serial?navigator.serial:usb_serial;\n        const p_list = await hostApi.getPorts();\n\n        console.log(\"PORTS\",p_list);\n        if(p_list){\n            p_list.map(p=>{\n                console.log(\"GET info:\",p.getInfo(),p.deviceId);\n            })\n        }\n\n        var port = await hostApi.requestPort().catch(()=>null);//navigator.serial.requestPort();\n        // eslint-disable-next-line\n        // debugger\n        if(!port){\n            console.log(\"no select port!\")\n            return;\n        }\n        \n        const serial = new Serial(port,new LineBreakTransformer());\n        let cmd_str  = \"\";\n        let onRecv =(data)=>{\n            let xterm = pane.term;\n            if(xterm){\n                console.log(\"Serial onRecv():==>\",typeof(data),data.byteLength);\n                // console.log(\"Serial onRecv():==>\",typeof(data),data.map(it=>it.toString(16)).join(\",\"));\n\n                if(pane.Decoder){\n                    pane.Decoder(data,xterm,serial);\n                }else if(parse_cmd){\n                    parse_cmd(data,xterm,serial);\n                    return\n                }else{\n                    xterm.write(data)//echo info\n                }\n                /*\n                if(cmd_str) cmd_str +=\",\";\n                cmd_str+= data.map(it=>it.toString(16)).join(\",\");\n                let cmd_list = cmd_str.split(',53,59');\n                console.log(\"CMD\",cmd_str,\" SPLIT:\",cmd_list.length)\n                for(let i = 0;i<cmd_list.length;i++){\n                    if(i+1< cmd_list.length){\n                        if(cmd_list[i].endsWith(\"54,43\")){\n                            console.log(`CMD[${i}:`,cmd_list[i]);\n                            parse_cmd&&\n                        }else{\n                            console.log('error message:',i,cmd_list[i]);\n                        }\n                    }else{\n                        cmd_str = cmd_list[cmd_list.length-1];\n                    }\n                }*/\n                // \n            }\n        }\n        let onDisconnect =()=>{\n            pane.online = false;\n            MyLog(\"Disconnected\\n\")\n        }\n\n        let onConnect =()=>{\n            pane.online = true;\n            MyLog(\"Connected\\n\")\n        }\n\n        serial.on('data',onRecv);\n        serial.on('disconnect',onDisconnect);\n        serial.on('connect',onConnect);\n\n        const info = await serial.getInfo();\n        console.log(\"GET INFO:\",info);\n\n        pane.serial = serial;\n        await openSerial(serial,config).catch(err=>{\n            console.log(\"OPEN ERROR:\",err)\n            // eslint-disable-next-line\n            // debugger\n\n            let opened = err.message.includes(\"The port is already open\");\n            if(opened){\n                serial.close();\n                openSerial(serial,config)\n            }else{\n                self.$message({\n                    type: \"error\",\n                    message: opened ?\"端口己打开！\":err.message\n                });\n            }\n        });\n       \n    } catch (err) {\n        console.log(err);\n    }\n}\n\n\nfunction writeSerial(term,data){\n// eslint-disable-next-line\n// debugger\n    let self = this;\n    let {pane} = term;\n    // let tab  = this.tabs[this.currentTab];\n    if(!pane.serial){\n        return list_serial();\n    } //return Promise.reject('!serial')\n    if(pane.online == false) {\n        pane.serial.close();\n        pane.serial = null;\n        return list_serial()\n    }\n\n    return pane.serial.write(data).then(()=>{\n        console.log(\"writeSerial OK\")\n    }).catch(err=>{\n        console.log(\"writeSerial\",err.message)\n        // this.MyLog(\"writeSerial\",err)\n    })\n}\n\nasync function flash_ymodem(code,pre='',after='') {\n            // if(this.serial&&this.serial.writable){}\n    if(pre)   await this.writeSerial(pre);\n    await delay_ms(500);\n    const encoder = new TextEncoder();\n    const buffer = encoder.encode(code);\n    const result = await transfer(this.serial, \"code\", buffer);\n    this.MyLog(\"upload file result:\",result);\n    await delay_ms(500);\n    if(after) await this.writeSerial(after);\n}\n       \nexport {writeSerial,listSerial,openSerial,TermLog}","<template>\n  <div id=\"app\">\n    <!-- <TestSerival msg=\"Welcome to Your Vue.js App\"/> -->\n    <Xterm msg=\"Welcome to Your Vue.js App\" :onData=\"onTermData\" @serialConfig=\"serialConfig\" ref=\"xterm\"/>\n  </div>\n</template>\n\n<script>\n// import TestSerival from './components/TestSerial.vue'\nimport Xterm from './components/XTerm.vue'\nimport {writeSerial,listSerial} from \"./components/serial.js\"\n// \nexport default {\n  name: 'App',\n  components: {\n    // TestSerival,\n    //openSerial,TermLog\n    Xterm\n  },\n   data() {\n        return {\n            cache:null,\n        }\n    },\n    methods: {\n        onTermData(data,term){\n            let {serial,online} = term.pane;\n            if(!serial || !online) {\n                this.$refs.xterm.showConfigDlg(true,'serial');\n                // listSerial.call(this,term);\n            }else if(online){\n                writeSerial.call(this,term,data);\n            }\n        },\n        serialConfig(value){\n            let {conf,pane} = value;\n            let {term} = pane;\n            listSerial.call(this,term,conf);\n        }\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  max-height: 100%;\n  min-height: 100%;\n  top: 0;\n}\n</style>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=73f4ea38&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=73f4ea38&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\n\nimport contentmenu from 'v-contextmenu'\nimport 'v-contextmenu/dist/index.css'\n\nVue.use(contentmenu)\n\nVue.config.productionTip = false\nVue.use(ElementUI);\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkserialapp\"] = self[\"webpackChunkserialapp\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(9789); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["SerialPolyfillProtocol","exports","kSetLineCoding","kSetControlLineState","kSendBreak","kDefaultBufferSize","kDefaultDataBits","kDefaultParity","kDefaultStopBits","kAcceptableDataBits","kAcceptableStopBits","kAcceptableParity","kParityIndexMapping","kStopBitsIndexMapping","kDefaultPolyfillOptions","protocol","UsbCdcAcm","usbControlInterfaceClass","usbTransferInterfaceClass","findInterface","device","classCode","configuration","configurations","manufacturerName","vendorId","productId","is_cp210x","interfaces","productName","is_pico","map","iface","i","console","log","alternates","interfaceClass","alternate","TypeError","findEndpoint","direction","endpoint","endpoints","interfaceNumber","UsbEndpointUnderlyingSource","constructor","onError","this","type","device_","endpoint_","onError_","pull","controller","_a","chunkSize","desiredSize","d","packetSize","Math","ceil","result","transferIn","endpointNumber","status","error","data","buffer","chunk","Uint8Array","byteOffset","byteLength","enqueue","toString","UsbEndpointUnderlyingSink","async","transferOut","SerialPort","polyfillOptions","polyfillOptions_","Object","assign","outputSignals_","dataTerminalReady","requestToSend","break","tmep_Interface","controlInterface_","transferInterface_","inEndpoint_","outEndpoint_","readable","readable_","opened","ReadableStream","highWaterMark","serialOptions_","bufferSize","writable","writable_","WritableStream","ByteLengthQueuingStrategy","options","validateOptions","open","selectConfiguration","reset","claimInterface","catch","err","controlTransferOut","requestType","recipient","request","index","value","then","setLineCoding","setSignals","close","Error","promises","push","cancel","abort","Promise","all","forget","getInfo","usbVendorId","usbProductId","reconfigure","signals","undefined","isValidBaudRate","baudRate","RangeError","isValidDataBits","dataBits","isValidStopBits","stopBits","isValidParity","parity","includes","_b","_c","ArrayBuffer","view","DataView","setUint32","setUint8","indexOf","DOMException","Serial","usbFilters","filters","filter","usbFilter","length","navigator","usb","requestDevice","port","devices","getDevices","ports","forEach","e","render","_vm","_self","attrs","ref","onTermData","on","serialConfig","staticRenderFns","directives","name","rawName","arg","staticClass","style","backgroundColor","bgColor","color","fontColor","handleMove","_v","_e","handlePlus","handleDelete","downloadTxt","_l","tabs","tab","currentTab","expression","key","children","slice","item","k","_s","online","handleSplitPane","$event","dialogVisible","config_type","handleChangeTheme","visible","handleClick","model","activeName","callback","$$v","$set","label","flowControl","staticStyle","theme","themes","colors","background","foreground","cursor","black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite","slot","$emit","Btn_Click","keys","xtermTheme","props","Boolean","String","default","window","localStorage","getItem","bgimg","computed","watch","val","setItem","methods","handleUpload","event","file","target","files","reader","FileReader","readAsDataURL","onload","cancleDialog","component","isInRect","rect","clientY","top","height","clientX","left","width","caption","prompt","onData","Function","onKey","term","socket","JSON","parse","lineHeight","components","ConfigModal","createTerminal","container","self","terminalname","uuidv4","Terminal","disableStdin","fitAddon","FitAddon","loadAddon","write","ev","domEvent","ctrlKey","metaKey","clear","pane","serial","currentPane","addEventListener","fit","$nextTick","element","document","getElementById","termEle","innerHTML","append","getBoundingClientRect","rows","selectAll","contents","getSelection","clearSelection","linkContent","URL","createObjectURL","Blob","TextEncoder","encode","fauxLink","createElement","download","Date","getTime","href","click","$message","message","cont","$confirm","confirmButtonText","cancelButtonText","destroy","splice","focus","handleCreateTab","blur","_core","stringify","showConfigDlg","show","conf","created","onkeydown","onkeyup","onkeypress","_key","keyCode","returnValue","findNext","incremental","onunload","mounted","beforeDestroy","EventEmitter","super","connected","state","read","readLoop","getReader","done","releaseLock","emit","resolve","reject","encoding","writer","getWriter","encoder","_","obj","getSignals","ANSI_BACKGROUND_OFFSET","wrapAnsi256","offset","code","wrapAnsi16m","assembleStyles","codes","Map","styles","modifier","bold","dim","italic","underline","overline","inverse","hidden","strikethrough","blackBright","redBright","greenBright","yellowBright","blueBright","magentaBright","cyanBright","whiteBright","bgBlack","bgRed","bgGreen","bgYellow","bgBlue","bgMagenta","bgCyan","bgWhite","bgBlackBright","bgRedBright","bgGreenBright","bgYellowBright","bgBlueBright","bgMagentaBright","bgCyanBright","bgWhiteBright","gray","bgGray","grey","bgGrey","groupName","group","entries","styleName","set","defineProperty","enumerable","ansi256","ansi16m","rgbToAnsi256","round","hexToRgb","hex","matches","exec","colorString","groups","split","character","join","integer","Number","parseInt","hexToAnsi256","MyLog","args","openSerial","param","LineBreakTransformer","chunks","transform","lines","pop","line","flush","listSerial","config","parse_cmd","locked","hostApi","usb_serial","p_list","getPorts","p","deviceId","requestPort","onRecv","xterm","Decoder","onDisconnect","onConnect","info","writeSerial","list_serial","Xterm","cache","$refs","Vue","contentmenu","ElementUI","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","id","loaded","__webpack_modules__","call","m","amdO","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","r","n","getter","__esModule","a","definition","o","get","g","globalThis","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","bind","__webpack_exports__"],"sourceRoot":""}